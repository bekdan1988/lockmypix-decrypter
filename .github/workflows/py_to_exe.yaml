name: Py to exe
on: push
  
jobs:     
  run:
    runs-on: windows-latest
    steps:
    - uses: actions/checkout@v5
    - uses: actions/setup-python@v6
      with:
        python-version-file: 'pyproject.toml'
    - run: pip install git+https://github.com/pyinstaller/pyinstaller  
    - run: pip install pycryptodomex
    - run: pyi-makespec --onefile --windowed --noconsole --icon ./assets/icon.ico --name decrypt decrypt.py
    - run: pyi-makespec --onefile --windowed --noconsole --icon ./assets/icon.ico --name bruteforce bruteforce.py
    - run: pyinstaller decrypt.spec
    - run: pyinstaller bruteforce.spec
    - uses: actions/upload-artifact@v4
      with:
        name: artifacts    
        path: ${{ github.workspace }}
